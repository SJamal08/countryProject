<app-navbar></app-navbar>

<!-- ------------------------------ -->

<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Liste des Pays</h1>

  <table class="min-w-full bg-white border border-gray-300">
    <thead>
      <tr>
        <th (click)="filterById()" class="py-2 px-4 border-b cursor-pointer">ID</th>
        <th (click)="filterByName()" class="py-2 px-4 border-b cursor-pointer">Nom</th>
        <th (click)="filterByArea()" class="py-2 px-4 border-b cursor-pointer">Superficie</th>
        <th (click)="filterByContinent()" class="py-2 px-4 border-b cursor-pointer">Continent</th>
        <th (click)="filterByPIB()" class="py-2 px-4 border-b cursor-pointer">PIB</th>
        <th class="py-2 px-4 border-b">Image</th>
        <th class="py-2 px-4 border-b">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let country of countries" class="cursor-pointer">
        <td class="py-2 px-4 border-b">{{ country.id }}</td>
        <td class="py-2 px-4 border-b">{{ country.name }}</td>
        <td class="py-2 px-4 border-b">{{ country.area}}</td>
        <td class="py-2 px-4 border-b">{{ country.continent }}</td>
        <td class="py-2 px-4 border-b">{{ country.pib }}</td>
        <td class="py-2 px-4 border-b">
          <img [src]="country.img" alt="{{ country.name }}" class="w-16 h-16 object-cover">
        </td>
        <td class="py-2 px-4 border-b">
          <button (click)="openEditModal(country)" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Modifier
          </button>
          <button (click)="deleteCountry(country.id)" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2">
            Supprimer
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<app-edit-modal
  *ngIf="isModalOpen"
  [countryPayload]="selectedCountry"
  (closeModal)="closeEditModal()"
  (saveChanges)="saveCountryChanges($event)">
</app-edit-modal>

